TODO unit tests for: Env.hs, FileEnv.hs, OptParse.hs, RabbitMqEnv.hs
TODO fix script filter protocol (length of message in first line, json?, base64)
TODO use phantom type parameter to track published state of messages
TODO extract bulk size to config
TODO add bash completion script install to package build post hooks
TODO re-add warnings that arg parse generic prevented

TODO decide: should we stop if publish fails for at least one message
